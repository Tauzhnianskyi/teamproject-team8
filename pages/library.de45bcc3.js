!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},o=e.parcelRequireae86;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var o=n[e];delete n[e];var a={id:e,exports:{}};return t[e]=a,o.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){n[e]=t},e.parcelRequireae86=o);var a=o("cRoku"),i=o("1h2Gi"),d=o("8pYMx"),r=o("lgA99"),l=o("iU1Pc"),c=o("8Q6FC");function s(e){const t=document.querySelector(".movie-list");try{const n=e.map((e=>{const t=new Date(e.first_air_date?e.first_air_date:e.release_date).getFullYear();return{title:e.title?e.title:e.name,id:e.id,image:e.poster_path?`${i.IMG_URL+e.poster_path}`:r.defaultImg,year:t||"",genres:e.genres.map((e=>`${e.name}`)).join(", ")}}));t.innerHTML=n.map((e=>(0,d.default)(e))).join("")}catch(e){l.Notify.failure("oooops! library is clear",c.notifyParams)}}o("9tAMN");var u=o("6Yqet"),m=o("UL92Z");const f=document.querySelector(".modal"),g=document.querySelector("body"),p=document.querySelector(".movie-list"),L=document.querySelector(".page-heading");function E(e){e.preventDefault();const t=e.path.find((e=>"A"===e.tagName)).getAttribute("id");let n={};n="Watched movie"===L.textContent?y.find((e=>e.id===Number(t))):h.find((e=>e.id===Number(t)));try{!function(e){f.classList.add("modal--show"),g.classList.add("stop-scroll"),f.innerHTML=(0,u.default)(e),function(e){const t=document.querySelector(".modal__btn-watched");t.addEventListener("click",n),"Watched movie"===L.textContent&&(t.textContent="REMOVE FROM WATCHED");function n(n){if(n.preventDefault(),"ADD TO WATCHED"===t.textContent){t.innerHTML="REMOVE FROM WATCHED";(new(0,m.LocalStorageWatchedUtil)).addWatched(e)}else y.splice(y.indexOf(e),1),s(y),t.innerHTML="ADD TO WATCHED",localStorage.setItem("WatchedList",JSON.stringify(y));v()}const o=document.querySelector(".modal__btn-queue");o.addEventListener("click",a),"Queued movie"===L.textContent&&(o.textContent="REMOVE FROM QUEUED");function a(t){if(t.preventDefault(),"ADD TO QUEUED"===o.textContent){o.innerHTML="REMOVE FROM QUEUED";(new(0,m.LocalStorageQueuedUtil)).addQueued(e)}else h.splice(h.indexOf(e),1),s(h),o.innerHTML="ADD TO QUEUED",localStorage.setItem("QueuedList",JSON.stringify(h));v()}document.querySelector(".modal__btn-close").addEventListener("click",(()=>v())),window.addEventListener("click",(e=>{e.target===f&&v()})),window.addEventListener("keydown",(e=>{27===e.keyCode&&v()}))}(e)}(n)}catch(e){console.log(e)}}function v(){f.classList.remove("modal--show"),g.classList.remove("stop-scroll")}null!==localStorage.getItem("theme")?document.body.classList.add("dark"):document.body.classList.remove("dark"),(0,a.getCurrentPage)();let y=JSON.parse(localStorage.getItem("WatchedList")),h=JSON.parse(localStorage.getItem("QueuedList"));const D=document.querySelector(".page-heading"),S=document.getElementById("js-navigationLibraryButtonQueue"),O=document.getElementById("js-navigationLibraryButtonWatched");s(y),p.addEventListener("click",E),S.addEventListener("click",(e=>{e.preventDefault(),S.disabled=!0,O.disabled=!1,D.textContent="Queued movie",h=JSON.parse(localStorage.getItem("QueuedList")),s(h)})),O.addEventListener("click",(e=>{e.preventDefault(),O.disabled=!0,S.disabled=!1,D.textContent="Watched movie",y=JSON.parse(localStorage.getItem("WatchedList")),s(y)}))}();
//# sourceMappingURL=library.de45bcc3.js.map
