{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,oDCAAD,EAAAC,EAAA,S,gDASA,MAAMC,EAAU,CACdC,QAAS,CACP,eAAgB,sBAkCpB,EAAAC,EAAAC,0B,aDnCA,MAAMC,EAAU,CACdH,QAAS,CACP,eAAgB,qBAMoB,OAAlCI,aAAaC,QAAQ,SACvBC,SAASC,KAAKC,UAAUC,IAAI,QAE5BH,SAASC,KAAKC,UAAUE,OAAO,SAKnC,EAAAC,EAAAC,kBAEA,MAAMC,EAAWC,KAAKC,MAAMX,aAAaC,QAAQ,gBAE3CW,EAAcV,SAASW,cAAc,eACrCC,EAAeZ,SAASW,cAAc,iBACtCE,EAAmBb,SAASc,eAChC,mCAEIC,EAAoBf,SAASc,eACjC,qCA0CK,SAASE,EAAkBC,GAChC,OAAOC,MAAM,GAAG3B,EAAA4B,kBAAkBF,aAAoB1B,EAAA6B,UAAWvB,GAC9DwB,MAAKC,IACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAM,QAElB,OAAOF,EAASG,MAAM,IAEvBJ,MAAKK,IACJ,MAAMC,EAAc3B,SAASW,cAAc,eACrCiB,EAAuB5B,SAAS6B,cAAc,MACpDD,EAAqB1B,UAAUC,IAAI,cACnCyB,EAAqBE,UAAY,sBAEtBJ,EAAQK,aAAaL,EAAQK,0CAC9BxC,EAAAyC,UAAUN,EAAQO,0GAEHP,EAAQQ,0DACFR,EAAQS,OACpCC,KAAIC,GAAQ,GAAGA,EAAKC,SACpBC,KAAK,WAAWb,EAAQc,+CAK3Bb,EAAYc,YAAYb,EAAqB,IAE9Cc,O,CAlEL7B,EAAiB8B,iBAAiB,SAASC,IACzCA,EAAEC,iBACFhC,EAAiBiC,UAAW,EAC5B/B,EAAkB+B,UAAW,EAC7BlC,EAAakB,UAAY,eACP9B,SAASW,cAAc,eAC/BmB,UAAY,GAEtB,MAAMiB,EAAYvC,KAAKC,MAAMX,aAAaC,QAAQ,eAClDiD,QAAQC,IAAIF,GACZA,EAAUG,SAAQnB,IClCb,IAA0Bd,IDmCZc,EClCZb,MAAM,GAAG3B,EAAA4B,kBAAkBF,aAAoB1B,EAAA6B,UAAW3B,GAC9D4B,MAAKC,IACJ,GAAIA,EAASC,GACX,OAAOD,EAASG,OAElB,MAAM,IAAID,MAAM,OAAO,IAExBH,MAAKK,IACJ,MAAMyB,EAAanD,SAASW,cAAc,eACpCyC,EAAsBpD,SAAS6B,cAAc,MACnDuB,EAAoBlD,UAAUC,IAAI,cAClCiD,EAAoBtB,UAAY,sBAErBJ,EAAQK,aAAaL,EAAQK,0CAC9BxC,EAAAyC,UAAUN,EAAQO,0GAEHP,EAAQQ,0DACFR,EAAQS,OACpCC,KAAIC,GAAQ,GAAGA,EAAKC,SACpBC,KAAK,WAAWb,EAAQc,+CAK3BW,EAAWV,YAAYW,EAAoB,IAE5CV,ODQmB,GACpB,IAGJ3B,EAAkB4B,iBAAiB,SAASC,IAC1CA,EAAEC,iBACF9B,EAAkB+B,UAAW,EAC7BjC,EAAiBiC,UAAW,EAC5BlC,EAAakB,UAAY,gBAEP9B,SAASW,cAAc,eAC/BmB,UAAY,GACLtB,KAAKC,MAAMX,aAAaC,QAAQ,gBACxCmD,SAAQxB,IACfV,EAAkBU,EAAQ,GAC1B,IAGJX,EAAkB+B,UAAW,EAC7BjC,EAAiBiC,UAAW,EAC5BlC,EAAakB,UAAY,gBAEzBpB,EAAYoB,UAAY,GAExBvB,EAAS2C,SAAQxB,IACfV,EAAkBU,EAAQ,KAkC5B,EAAA/B,EAAAC","sources":["src/js/library.js","src/js/queuedList.js"],"sourcesContent":["import { API_KEY, BASE_URL, IMG_URL } from './api-service';\nimport movieCardTpl from './../templates/movie-card.hbs';\nimport { getCurrentPage } from './getCurrentPage';\nimport { openModal } from './modal-movie';\nimport Notiflix from 'notiflix';\nimport { queuedListHandler } from './queuedList';\nimport { AddListenerToMovieList } from './modal-movie';\n\nimport { apiLibraryQueued } from './queuedList.js';\n\nconst options = {\n  headers: {\n    'Content-Type': 'application/json',\n  },\n};\n\n\nfunction storageLibraryChecker() {\n  if (localStorage.getItem('theme') !== null) {\n    document.body.classList.add('dark');\n  } else {\n    document.body.classList.remove('dark');\n  }\n}\nstorageLibraryChecker();\n\ngetCurrentPage();\n\nconst movie_id = JSON.parse(localStorage.getItem('WatchedList'));\n\nconst watchedList = document.querySelector('.movie-list');\nconst titleOnClick = document.querySelector('.page-heading');\nconst queuedBtnLibrary = document.getElementById(\n  'js-navigationLibraryButtonQueue'\n);\nconst watchedBtnLibrary = document.getElementById(\n  'js-navigationLibraryButtonWatched'\n);\n\nqueuedBtnLibrary.addEventListener('click', e => {\n  e.preventDefault();\n  queuedBtnLibrary.disabled = true;\n  watchedBtnLibrary.disabled = false;\n  titleOnClick.innerHTML = 'Queued movie';\n  const movieList = document.querySelector('.movie-list');\n  movieList.innerHTML = '';\n\n  const movie_idQ = JSON.parse(localStorage.getItem('QueuedList'));\n  console.log(movie_idQ);\n  movie_idQ.forEach(id => {\n    apiLibraryQueued(id);\n  });\n});\n\nwatchedBtnLibrary.addEventListener('click', e => {\n  e.preventDefault();\n  watchedBtnLibrary.disabled = true;\n  queuedBtnLibrary.disabled = false;\n  titleOnClick.innerHTML = 'Watched movie';\n\n  const movieList = document.querySelector('.movie-list');\n  movieList.innerHTML = '';\n  const movie_id = JSON.parse(localStorage.getItem('WatchedList'));\n  movie_id.forEach(element => {\n    apiLibraryWatched(element);\n  });\n});\n\nwatchedBtnLibrary.disabled = true;\nqueuedBtnLibrary.disabled = false;\ntitleOnClick.innerHTML = 'Watched movie';\n\nwatchedList.innerHTML = '';\n\nmovie_id.forEach(element => {\n  apiLibraryWatched(element);\n});\n\nexport function apiLibraryWatched(movie_id) {\n  return fetch(`${BASE_URL}/movie/${movie_id}?api_key=${API_KEY}`, options)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('fail');\n      }\n      return response.json();\n    })\n    .then(element => {\n      const watchedList = document.querySelector('.movie-list');\n      const libraryWatchedListEl = document.createElement('li');\n      libraryWatchedListEl.classList.add('movie-item');\n      libraryWatchedListEl.innerHTML = `\n\n      <a href='${element.id}' id = '${element.id}' class='movie-link'>\n    <img src='${IMG_URL}${element.poster_path}' alt='' class='movie-image' />\n    <div class='movie-info'>\n      <p class='movie-title'>${element.original_title}</p>\n      <p class='movie-description'>${element.genres\n        .map(elem => `${elem.name}`)\n        .join(', ')} | ${element.release_date}</p>\n    </div>\n  </a>\n      `;\n\n      watchedList.appendChild(libraryWatchedListEl);\n    })\n    .catch();\n}\n\n// Add modal-movie\nAddListenerToMovieList();\n","import { API_KEY, BASE_URL, IMG_URL } from './api-service';\nimport movieCardTpl from './../templates/movie-card.hbs';\nimport { getCurrentPage } from './getCurrentPage';\nimport { openModal } from './modal-movie';\nimport { AddListenerToMovieList } from './modal-movie';\n\n\n//const movie_idQ = JSON.parse(localStorage.getItem('QueuedList'));\n\nconst options = {\n  headers: {\n    'Content-Type': 'application/json',\n  },\n};\n\nexport function apiLibraryQueued(movie_id) {\n  return fetch(`${BASE_URL}/movie/${movie_id}?api_key=${API_KEY}`, options)\n    .then(response => {\n      if (response.ok) {\n        return response.json();\n      }\n      throw new Error('fail');\n    })\n    .then(element => {\n      const queuedList = document.querySelector('.movie-list');\n      const libraryQueuedListEl = document.createElement('li');\n      libraryQueuedListEl.classList.add('movie-item');\n      libraryQueuedListEl.innerHTML = `\n\n      <a href='${element.id}' id = '${element.id}' class='movie-link'>\n    <img src='${IMG_URL}${element.poster_path}' alt='' class='movie-image' />\n    <div class='movie-info'>\n      <p class='movie-title'>${element.original_title}</p>\n      <p class='movie-description'>${element.genres\n        .map(elem => `${elem.name}`)\n        .join(', ')} | ${element.release_date}</p>\n    </div>\n  </a>\n      `;\n\n      queuedList.appendChild(libraryQueuedListEl);\n    })\n    .catch();\n\n}\nAddListenerToMovieList();\n// openModal();\n"],"names":["$7me8F","parcelRequire","$d602764cfed262a5$var$options","headers","$j3p24","AddListenerToMovieList","$1cafa503bc57b7a0$var$options","localStorage","getItem","document","body","classList","add","remove","$baSj9","getCurrentPage","$1cafa503bc57b7a0$var$movie_id","JSON","parse","$1cafa503bc57b7a0$var$watchedList","querySelector","$1cafa503bc57b7a0$var$titleOnClick","$1cafa503bc57b7a0$var$queuedBtnLibrary","getElementById","$1cafa503bc57b7a0$var$watchedBtnLibrary","$1cafa503bc57b7a0$export$49c95d823cabd0a6","movie_id","fetch","BASE_URL","API_KEY","then","response","ok","Error","json","element","watchedList","libraryWatchedListEl","createElement","innerHTML","id","IMG_URL","poster_path","original_title","genres","map","elem","name","join","release_date","appendChild","catch","addEventListener","e","preventDefault","disabled","movie_idQ","console","log","forEach","queuedList","libraryQueuedListEl"],"version":3,"file":"library.59a7606b.js.map"}