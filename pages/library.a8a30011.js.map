{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,S,mDAMA,EAAAC,EAAAC,kBAEA,MAAMC,EAAWC,KAAKC,MAAMC,aAAaC,QAAQ,gBAE3CC,EAAU,CACdC,QAAS,CACP,eAAgB,qBAIpBN,EAASO,SAAQC,IAMV,IAA2BC,IALdD,EAMXE,MAAM,GAAGd,EAAAe,kBAAkBF,aAAoBb,EAAAgB,UAAWP,GAC9DQ,MAAKC,IACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAM,QAElB,OAAOF,EAASG,MAAM,IAEvBJ,MAAKK,IACJ,MAAMC,EAAuBC,SAASC,cAAc,MACpDF,EAAqBG,UAAUC,IAAI,cACnCJ,EAAqBK,UAAY,oBACtBN,EAAKO,aAAaP,EAAKO,0CACxB7B,EAAA8B,UAAUR,EAAKS,0GAEAT,EAAKU,0DACCV,EAAKW,OACjCC,KAAIC,GAAQ,GAAGA,EAAKC,SACpBC,KAAK,WAAWf,EAAKgB,+CAIxBC,EAAYC,YAAYjB,EAAqB,GA3BvB,IAG5B,MAAMgB,EAAcf,SAASiB,cAAc,eA2B3C,MAAMC,EAAqBlB,SAASiB,cAAc,qBAC5CE,EAAsBnB,SAASiB,cAAc,eAE7CG,EAAmBpB,SAASqB,eAChC,mCAEFD,EAAiBE,iBAAiB,SAASC,IACzCA,EAAEC,iBACFJ,EAAiBK,UAAW,EAC5BN,EAAoBO,MAAMC,QAAU,OACpCT,EAAmBQ,MAAMC,QAAU,OACnCC,EAAkBH,UAAW,CAAK,IAGpC,MAAMG,EAAoB5B,SAASqB,eACjC,qCAGFO,EAAkBN,iBAAiB,SAASC,IAC1CA,EAAEC,iBACFI,EAAkBH,UAAW,EAC7BP,EAAmBQ,MAAMC,QAAU,OACnCR,EAAoBO,MAAMC,QAAU,OACpCP,EAAiBK,UAAW,CAAK,G","sources":["src/js/library.js"],"sourcesContent":["import { API_KEY, BASE_URL, IMG_URL } from './api-service';\nimport movieCardTpl from './../templates/movie-card.hbs';\nimport { getCurrentPage } from './getCurrentPage';\nimport { openModal } from './modal-movie';\nimport { fetchInitialData } from './renderHomePageUI';\n\ngetCurrentPage();\n\nconst movie_id = JSON.parse(localStorage.getItem('WatchedList'));\n\nconst options = {\n  headers: {\n    'Content-Type': 'application/json',\n  },\n};\n\nmovie_id.forEach(element => {\n  apiLibraryWatched(element);\n});\n\nconst watchedList = document.querySelector('.movie-list');\n\nexport function apiLibraryWatched(movie_id) {\n  return fetch(`${BASE_URL}/movie/${movie_id}?api_key=${API_KEY}`, options)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('fail');\n      }\n      return response.json();\n    })\n    .then(data => {\n      const libraryWatchedListEl = document.createElement('li');\n      libraryWatchedListEl.classList.add('movie-item');\n      libraryWatchedListEl.innerHTML = `\n      <a href='${data.id}' id = '${data.id}' class='movie-link'>\n    <img src='${IMG_URL}${data.poster_path}' alt='' class='movie-image' />\n    <div class='movie-info'>\n      <p class='movie-title'>${data.original_title}</p>\n      <p class='movie-description'>${data.genres\n        .map(elem => `${elem.name}`)\n        .join(', ')} | ${data.release_date}</p>\n    </div>\n  </a>\n      `;\n      watchedList.appendChild(libraryWatchedListEl);\n    });\n}\nconst queuedListForClick = document.querySelector('.movie-list-queue');\nconst watchedListForClick = document.querySelector('.movie-list');\n\nconst queuedBtnLibrary = document.getElementById(\n  'js-navigationLibraryButtonQueue'\n);\nqueuedBtnLibrary.addEventListener('click', e => {\n  e.preventDefault();\n  queuedBtnLibrary.disabled = true;\n  watchedListForClick.style.display = 'none';\n  queuedListForClick.style.display = 'flex';\n  watchedBtnLibrary.disabled = false;\n});\n\nconst watchedBtnLibrary = document.getElementById(\n  'js-navigationLibraryButtonWatched'\n);\n\nwatchedBtnLibrary.addEventListener('click', e => {\n  e.preventDefault();\n  watchedBtnLibrary.disabled = true;\n  queuedListForClick.style.display = 'none';\n  watchedListForClick.style.display = 'flex';\n  queuedBtnLibrary.disabled = false;\n});\n"],"names":["$1h2Gi","parcelRequire","$cRoku","getCurrentPage","$93effc6fc56091ad$var$movie_id","JSON","parse","localStorage","getItem","$93effc6fc56091ad$var$options","headers","forEach","element","movie_id","fetch","BASE_URL","API_KEY","then","response","ok","Error","json","data","libraryWatchedListEl","document","createElement","classList","add","innerHTML","id","IMG_URL","poster_path","original_title","genres","map","elem","name","join","release_date","$93effc6fc56091ad$var$watchedList","appendChild","querySelector","$93effc6fc56091ad$var$queuedListForClick","$93effc6fc56091ad$var$watchedListForClick","$93effc6fc56091ad$var$queuedBtnLibrary","getElementById","addEventListener","e","preventDefault","disabled","style","display","$93effc6fc56091ad$var$watchedBtnLibrary"],"version":3,"file":"library.a8a30011.js.map"}