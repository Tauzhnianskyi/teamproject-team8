!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},i={},n=e.parcelRequireae86;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in i){var n=i[e];delete i[e];var o={id:e,exports:{}};return t[e]=o,n.call(o.exports,o,o.exports),o.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){i[e]=t},e.parcelRequireae86=n);var o=n("1h2Gi");n("8pYMx");var a=n("cRoku"),r=n("9tAMN");n("iU1Pc");o=n("1h2Gi");n("8pYMx"),n("cRoku");r=n("9tAMN"),r=n("9tAMN");const s={headers:{"Content-Type":"application/json"}};(0,r.AddListenerToMovieList)();r=n("9tAMN");const l={headers:{"Content-Type":"application/json"}};null!==localStorage.getItem("theme")?document.body.classList.add("dark"):document.body.classList.remove("dark"),(0,a.getCurrentPage)();const d=JSON.parse(localStorage.getItem("WatchedList")),c=document.querySelector(".movie-list"),m=document.querySelector(".page-heading"),u=document.getElementById("js-navigationLibraryButtonQueue"),p=document.getElementById("js-navigationLibraryButtonWatched");function v(e){return fetch(`${o.BASE_URL}/movie/${e}?api_key=${o.API_KEY}`,l).then((e=>{if(!e.ok)throw new Error("fail");return e.json()})).then((e=>{const t=document.querySelector(".movie-list"),i=document.createElement("li");i.classList.add("movie-item"),i.innerHTML=`\n\n      <a href='${e.id}' id = '${e.id}' class='movie-link'>\n    <img src='${o.IMG_URL}${e.poster_path}' alt='' class='movie-image' />\n    <div class='movie-info'>\n      <p class='movie-title'>${e.original_title}</p>\n      <p class='movie-description'>${e.genres.map((e=>`${e.name}`)).join(", ")} | ${e.release_date}</p>\n    </div>\n  </a>\n      `,t.appendChild(i)})).catch()}u.addEventListener("click",(e=>{e.preventDefault(),u.disabled=!0,p.disabled=!1,m.innerHTML="Queued movie";document.querySelector(".movie-list").innerHTML="";const t=JSON.parse(localStorage.getItem("QueuedList"));console.log(t),t.forEach((e=>{var t;t=e,fetch(`${o.BASE_URL}/movie/${t}?api_key=${o.API_KEY}`,s).then((e=>{if(e.ok)return e.json();throw new Error("fail")})).then((e=>{const t=document.querySelector(".movie-list"),i=document.createElement("li");i.classList.add("movie-item"),i.innerHTML=`\n\n      <a href='${e.id}' id = '${e.id}' class='movie-link'>\n    <img src='${o.IMG_URL}${e.poster_path}' alt='' class='movie-image' />\n    <div class='movie-info'>\n      <p class='movie-title'>${e.original_title}</p>\n      <p class='movie-description'>${e.genres.map((e=>`${e.name}`)).join(", ")} | ${e.release_date}</p>\n    </div>\n  </a>\n      `,t.appendChild(i)})).catch()}))})),p.addEventListener("click",(e=>{e.preventDefault(),p.disabled=!0,u.disabled=!1,m.innerHTML="Watched movie";document.querySelector(".movie-list").innerHTML="";JSON.parse(localStorage.getItem("WatchedList")).forEach((e=>{v(e)}))})),p.disabled=!0,u.disabled=!1,m.innerHTML="Watched movie",c.innerHTML="",d.forEach((e=>{v(e)})),(0,r.AddListenerToMovieList)()}();
//# sourceMappingURL=library.e1bb9086.js.map
