!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},i=t.parcelRequireae86;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var i={id:e,exports:{}};return n[e]=i,t.call(i.exports,i,i.exports),i.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){a[e]=t},t.parcelRequireae86=i);var o=i("cRoku"),r=i("9tAMN"),l=i("1h2Gi"),c=i("3likm"),s=i("8pYMx"),d=i("dIxxU");i("9tAMN");l=i("1h2Gi"),d=i("dIxxU"),s=i("8pYMx");document.querySelector(".movie-list");async function u(e=1){try{const{data:{results:t}}=await d.default.get(`${l.BASE_URL}/trending/all/day`,{params:{api_key:l.API_KEY,page:e}});return t}catch(e){return e}}async function m(e){const t=await(0,c.getGenres)();return e.map((e=>({title:e.title?e.title:e.name,id:e.id,media_type:e.media_type,image:`${l.IMG_URL+e.poster_path}`,year:new Date(e.first_air_date?e.first_air_date:e.release_date).getFullYear(),genres:e.genre_ids.map(((e,n)=>{var a;return n<2?null===(a=t[e])||void 0===a?void 0:a.name:2===n?"Other":n>2?"":void 0})).filter((e=>""!==e)).join(", ")})))}!async function(){const e=(await async function(e){try{return(await d.default.get(`${l.BASE_URL}/trending/all/day`,{params:{api_key:l.API_KEY,page:e}})).data}catch(e){return e}}(1)).total_pages;let t=1,n=1;const a=document.createElement("button");a.classList.add("arrow-right"),a.innerHTML='<img src="https://img.icons8.com/office/16/null/circled-chevron-right.png"/>';const i=document.createElement("button");function o(e){const t=document.querySelector(".movie-list");t.innerHTML="",u(e).then(m).then((e=>{t.innerHTML=e.map((e=>(0,s.default)(e))).join("")}))}function r(e){const t=document.createElement("li");t.classList.add("pagination__item"),t.innerText=e,n===e&&t.classList.add("pagination__item--active");return t.addEventListener("click",(t=>{n=e,o(n);let a=document.querySelector("li.pagination__item--active");a&&a.classList.remove("pagination__item--active"),t.target.classList.add("pagination__item--active")})),t}i.classList.add("arrow-left"),i.innerHTML='<img src="https://img.icons8.com/office/16/null/circled-chevron-left.png"/>',o(n),function(){const n=document.querySelector(".pagination"),o=document.createElement("ul");let l=10;o.classList.add("pagination__list");for(let e=0;e<l;e++){const t=r(e+1);o.appendChild(t)}n.appendChild(o),o.appendChild(a),a.addEventListener("click",(()=>{if(t+=1,l+=1,o.innerHTML="",o.insertAdjacentElement("afterbegin",i),l<e){for(let e=t;e<=l;e++){const t=r(e);o.appendChild(t)}let e=document.querySelectorAll(".pagination__item");e[0].classList.contains("pagination__item--active")&&(e[0].classList.remove("pagination__item--active"),e[0].classList.add("pagination__item--active"))}l===e&&a.remove(),o.appendChild(a)})),i.addEventListener("click",(()=>{if(t-=1,l-=1,o.innerHTML="",o.insertAdjacentElement("afterbegin",i),l<e){for(let e=t;e<=l;e++){const t=r(e);o.appendChild(t)}let e=document.querySelectorAll(".pagination__item");e[9].classList.contains("pagination__item--active")&&(e[9].classList.remove("pagination__item--active"),e[9].classList.add("pagination__item--active"))}10===l&&i.remove(),o.appendChild(a)}))}()}();var p=i("lgA99"),f=(l=i("1h2Gi"),i("kvC6y"));i("6DaBD");var g=e(i("WMajR")).template({1:function(e,t,n,a,i){var o,r=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c="function",s=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<option class="options" value='+s(typeof(o=null!=(o=d(n,"id")||(null!=t?d(t,"id"):t))?o:l)===c?o.call(r,{name:"id",hash:{},data:i,loc:{start:{line:2,column:30},end:{line:2,column:36}}}):o)+">"+s(typeof(o=null!=(o=d(n,"name")||(null!=t?d(t,"name"):t))?o:l)===c?o.call(r,{name:"name",hash:{},data:i,loc:{start:{line:2,column:37},end:{line:2,column:45}}}):o)+"</option>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,i){var o;return null!=(o=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i,loc:{start:{line:1,column:0},end:{line:3,column:9}}}))?o:""},useData:!0}),v=i("e2Yxc"),h=i("9uc0O");const y=document.querySelector(".movie-list"),_=document.querySelector(".js-select"),L=document.querySelector(".page-heading"),b=document.querySelector(".loader-container");async function w(){return await async function(){const e=await fetch(`https://api.themoviedb.org/3/genre/movie/list?api_key=${l.API_KEY}`);if(e.ok)return await e.json();throw new Error(await e.text())}()}async function E(e){y.innerHTML="",L.textContent=`Movies of the ${_.options[_.selectedIndex].textContent} genre`,(0,f.addLoader)(b),(0,h.removeBubble)();try{await(0,v.fetchData)(`/discover/movie?sort_by=title.&with_genres=${e}`).then(v.formatResponseData).then(v.renderUI)}catch(e){console.log(e)}}!async function(){const e=(await w()).genres.map((e=>e));e.push({});const t=e.map((e=>g({el:e})));_.innerHTML="",_.insertAdjacentHTML("beforeend",t)}();var S;h=i("9uc0O");function x(e,t,n){var a,i,o,r,l;function c(){var s=Date.now()-r;s<t&&s>=0?a=setTimeout(c,t-s):(a=null,n||(l=e.apply(o,i),o=i=null))}null==t&&(t=100);var s=function(){o=this,i=arguments,r=Date.now();var s=n&&!a;return a||(a=setTimeout(c,t)),s&&(l=e.apply(o,i),o=i=null),l};return s.clear=function(){a&&(clearTimeout(a),a=null)},s.flush=function(){a&&(l=e.apply(o,i),o=i=null,clearTimeout(a),a=null)},s}x.debounce=x,S=x,(0,o.getCurrentPage)(),(0,r.AddListenerToMovieList)();const k=document.querySelector(".js-select");k.addEventListener("change",(e=>{console.dir(k.options[k.selectedIndex]),E(k.value)}));document.querySelector(".search-form").addEventListener("submit",p.onSubmit),null!==localStorage.getItem("theme")&&document.body.classList.add("dark");document.querySelector('[data-theme ="dark"]').addEventListener("click",(function(){document.body.classList.add("dark"),localStorage.setItem("theme","dark")}));document.querySelector('[data-theme ="light"]').addEventListener("click",(function(){document.body.classList.remove("dark"),localStorage.removeItem("theme")}));const M=document.querySelector('[name="by-name__select"]');M.addEventListener("change",(()=>{(0,h.byName)(M.value)}));const q=document.querySelector('[name="by-year"]');q.addEventListener("input",h.setBubble),q.addEventListener("change",e(S)((()=>{(0,h.byYear)(q.value)}),300))}();
//# sourceMappingURL=index.22caa871.js.map
